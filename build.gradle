buildscript {
    repositories {
        mavenCentral()
        maven {
            name = "forge"
            url = "http://files.minecraftforge.net/maven"
        }
        maven {
            name = "shadow-repo"
            url = "http://dl.bintray.com/content/johnrengelman/gradle-plugins/"
        }
		maven {
            name = "sonatype"
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:1.0-SNAPSHOT'
        classpath 'org.gradle.plugins:shadow:0.7.4'
    }
}
repositories {
	ivy {
        name 'Forge FS legacy'
        artifactPattern "http://files.minecraftforge.net/[module]/[module]-dev-[revision].[ext]"
    }
	maven {
       name 'SlimeKnights Maven FS'
          url 'http://aeon.sunstrike.io'
	}
	maven {
          name 'ForgeFS'
          url 'http://files.minecraftforge.net/maven'
     }
     maven {
          name 'MinecraftS3'
          url 'http://s3.amazonaws.com/Minecraft.Download/libraries'
     }
}

apply plugin: 'shadow'

shadow
        {
            include 'javax/mail/**'
            include 'com/sun/activation/**'
            include 'javax/activation/**'
            include 'com/sun/mail/**'
        }

apply plugin: 'forge'

version = "2.2b-90"
group= "vazkii.tinkerer" // http://maven.apache.org/guides/mini/guide-naming-conventions.html
archivesBaseName = "ThaumicTinkerer"

minecraft {
	version = "1.6.4-9.11.1.964"
	assetDir = "eclipse/assets"
	replace '${version}', project.version
    replaceIn "common/AutoCrashReporter.java"

    if (project.hasProperty("pass"))
        replace "INSERTPASSWORDHERE", project.pass
    

}

dependencies {
	compile files (
		'TCDEOBF.jar',
		'mods/Waila_1.4.5a_Dev.zip',
		'mods/CodeChickenCore-dev 0.9.0.7.jar',
		'mods/1.6.4/CodeChickenLib-dev-1.6.4-1.0.0.45.jar',
		'mods/1.6.4/ForgeMultipart-dev-1.6.4-1.0.0.219.jar',
		'mods/NotEnoughItems-dev 1.6.1.5.jar',
		'mods/EnderStorage-dev 1.4.3.5.jar'
	)
    compile 'javax.mail:mail:1.4'
	compile "tconstruct:TConstruct:7a2abb:dev"
}

processResources
{
    // replace stuff in mcmod.info, nothing else
    from(sourceSets.main.resources.srcDirs) {
        include 'mcmod/info'
                
        // replace version and mcversion
        expand 'version':project.version, 'mcversion':project.minecraft.version
    }
        
    // copy everything else, thats not the mcmod.info
    from(sourceSets.main.resources.srcDirs) {
        exclude 'mcmod.info'
    }
}